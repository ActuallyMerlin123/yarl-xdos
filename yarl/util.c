#include <math.h>

#include "yarl.h"

// `````````````````````````````````````````
// ````````````````````270°`````````````````
// `````````````````````|```````````````````
// `````````225°````````|`````````315°``````
// `````````````````````|```````````````````
// `````````````````````|```````````````````
// ````180°<------------*------------>0°````
// `````````````````````|```````````````````
// `````````````````````|```````````````````
// `````````135°````````|`````````45°```````
// `````````````````````|```````````````````
// ````````````````````90°``````````````````
// ````````````````````````````````````````
// float rotation_angle_around_center(int x, int y) {
//     float angle = floorf(YARL_RAD_TO_DEG(atanf((float) y / x)));
//     if (y > 0.)
//         angle = 360. - angle;
//
//     if (x < 0.)
//         angle = 180. - angle;
//
//     angle = fabsf(angle);
//     return angle;
// }

float rotation_angle_around_center(int x, int y) {
    float angle = floorf(YARL_RAD_TO_DEG(atanf((float) y / x)));
    if (y > 0.)
        angle = 360. - angle;

    if (x < 0.)
        angle = 180. - angle;

    angle = fabsf(angle);
    return angle;
}
